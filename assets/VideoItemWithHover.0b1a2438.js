import{D as v,E as m,G as g,H as b,e as r,I as S,a,J as I,j as f,K as k,L as H}from"./index.d91a10f5.js";const R=v,V=m;function A(t,s,o){return function(){var h;const n=R(),p=(h=o.id)!=null?h:o.apiString,i=V(d=>d.discover[s]),e=i?i[p]:void 0,[x]=g(),[y]=b();r.exports.useEffect(()=>{(!i||!e)&&n(S({mediaType:s,itemKey:p}))},[i,e]),r.exports.useEffect(()=>{e&&e.page===0&&l(e.page+1)},[e]);const l=r.exports.useCallback(d=>{o.id?x({mediaType:s,genreId:o.id,page:d}):y({mediaType:s,apiString:o.apiString,page:d})},[]);return e?a(t,{genre:o,data:e,handleNext:l}):a(I,{})}}class W extends r.exports.PureComponent{render(){return f("div",{ref:this.props.innerRef,style:{zIndex:9,cursor:"pointer",borderRadius:.5,width:"100%",position:"relative",paddingTop:"calc(9 / 16 * 100%)"},children:[a("img",{src:this.props.src,style:{top:0,height:"100%",objectFit:"cover",position:"absolute",borderRadius:"4px"},onPointerEnter:()=>{this.props.handleHover(!0)},onPointerLeave:()=>{this.props.handleHover(!1)}}),this.props.rank!==void 0&&f("svg",{width:"100%",height:"100%",viewBox:"0 0 150 150",style:{position:"absolute",left:"-10px",bottom:"0px",height:"100%",pointerEvents:"none"},children:[a("text",{x:"0",y:"150",fill:"black",stroke:"#595959",strokeWidth:"4",fontSize:"160",fontWeight:"bold",style:{fontFamily:"Arial, sans-serif",textShadow:"2px 2px 4px hsla(0, 0%, 99%, 1.00)"},children:this.props.rank}),a("text",{x:"0",y:"150",fill:"hsla(0, 0%, 100%, 1.00)",fontSize:"160",fontWeight:"bold",style:{fontFamily:"Arial, sans-serif"},children:this.props.rank})]})]})}}const u=r.exports.forwardRef((t,s)=>a(W,{...t,innerRef:s}));u.displayName="VideoItemWithHoverRef";function G({video:t,rank:s}){var e;const o=k(),c=r.exports.useRef(null),[n,p]=r.exports.useState(!1),{data:i}=H(void 0);return r.exports.useEffect(()=>{n&&o(c.current,t)},[n]),a(u,{ref:c,handleHover:p,src:(e=t.backdrop_path)!=null&&e.startsWith("http")?t.backdrop_path:`${i==null?void 0:i.images.base_url}w300${t.backdrop_path}`,rank:s})}export{G as V,A as w};
